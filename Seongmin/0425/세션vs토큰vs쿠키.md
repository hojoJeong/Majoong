# [쿠키]

쿠키를 이용해서 서버는 브라우저에 데이터를  넣을 수 있다.

사이트에 보내는 요청마다 브라우저는 해당 쿠키도 보낸다.

쿠키는 도메인 제한과 유효기간이 있다.

예를들어, 유튜브에서 제공한 쿠키는 유튜브 사이트에서만 사용되며,

유효기간은 서버가 정한 기간에 따라 유효하다.

쿠키는 인증정보 외에도 언어 설정 등 다양한 정보를 저장할 수 있다.



# [세션 - 세션DB]

Stateless는 서버로 가는 모든 요청이 이전 요청과 독립적으로 이루어진다는 뜻이다. 요청간의 연결이 없어서 메모리가 없다! 

브라우저는 쿠키에 세션 ID정보를 저장하고 서버는 쿠키에 포함된  세션ID를 조회해서 유저가 누구인지 식별한다.

유저가 늘어남에 따라 일치하는 유저를 찾기위해 DB리소스가 더 필요하다

중요한 정보는 모두 서버가 가지고 있고, 유저가 가지고 있는 것은 단지 세션 ID 뿐이다.



서버는 누가 로그인 했는지 DB에 저장할 수 있기 때문에 인스타그램처럼 현재 아이디로 접속된 기기들을 조회해서 강제종료 할 수 있고, 넷플릭스처럼 5명의 사용자만 활용할 수 있도록 제한을 둘 수 있다. 이를 관리하기 위한 DB로 주로 Redis를 활용한다.

# [토큰 - 세션DB]

세션을 이용해 IOS, Android 앱을 만들 수는 있지만 네이티브 앱은 브라우저가 아니기 때문에 쿠키를 사용할 수 없다. 이럴 경우에 토큰을 사용한다.

토큰을 서버에 보내면 세션DB에서 해당 토큰과 일치하는 유저를 찾는다.

마찬가지로 유저가 늘어남에 따라 일치하는 유저를 찾기위해 DB리소스가 더 필요하다



# [JWT]

토큰은 쿠키와 다르게 공간제약이 없어서 길이가 길어도 된다

서버는 토큰을 받으면, 해당 사인이 유효한지 체크한다.(토큰이 조작되었는지 확인함)

단순히 유효한지만 체크하기 때문에 DB를 거치지 않는다

토큰이 유효하다면 서버는 요청을 보낸 유저를 인증된 유저로 생각한다.



JWT는 암호화 되지 않았기 때문에 누구나 열어서 확인할 수 있다.

따라서 비밀정보를 JWT 안에 둬서는 안된다