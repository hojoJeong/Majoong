# B-tree, B+tree

모두 트리 기반 데이터 구조로, 데이터베이스나 파일 시스템과 같은 곳에서 많이 사용된다.

B-Tree는 B트리라고 부르고, 이진 트리와는 다르게 하나의 노드에 많은 정보를 가지거나, 두 개 이상의 자식을 가질 수도 있다. 하나의 노드에 여러 자료를 배치하게 되면서 이진 트리보다 훨씬 많은 데이터를 더 효율적으로 저장소에 담을 수 있다.

B-Tree는 탐색을 위해서 노드를 찾아서 이동해야 한다는 단점을 가지고 있다.

이러한 단점을 해소하고자 B+Tree는 같은 레벨의 모든 키값들이 정렬되어 있고, 같은 레벨의 Sibiling node는 연결리스트 형태로 이어져 있다.

만약 특정 값을 찾아야 하는 상황이 된다면 leaf node에 모든 자료들이 존재하고, 그 자료들이 연결리스트로 연결되어 있으므로 탐색에 유리하다. 데이터베이스에서 가장 중요한 것은 검색속도이기 때문에 대부분의 데이터베이스 시스템은 B+Tree구조를 채택하고 있다.

leaf node가 아닌 자료는 인덱스 노드라고 부르고, leaf node 자료는 데이터 노드라고 한다.

인덱스 노드의 Value값에는 다음 노드를 가리킬 수 있는 포인터 주소가 존재하고,
데이터 노드의 Value값에 데이터가 존재한다. 

| 특징               | B-트리                          | B+트리                             |
| ---------------- | ----------------------------- | -------------------------------- |
| 구조적 차이점          | 내부/리프 노드 모두 데이터 저장 가능         | 내부 노드는 인덱스 역할, 실제 데이터는 리프 노드에 저장 |
| 탐색 방식의 차이점       | 내부/리프 노드 모두 탐색 가능             | 리프 노드만 탐색 가능                     |
| 범위 검색의 차이점       | 내부/리프 노드 모두 검색 범위 내 데이터 반환 가능 | 리프 노드만 검색 범위 내 데이터 반환            |
| 레코드의 중복 저장 가능 여부 | 중복된 레코드 저장 가능                 | 중복된 레코드 저장 불가능                   |
| 리프 노드의 연결 방식     | 연결 없거나 일방향 연결                 | 모든 리프 노드가 연결 리스트로 연결             |
